<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weather App 2</title>
   <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
      crossorigin="anonymous"
    />
    <script src="https://kit.fontawesome.com/474b7faebb.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<style>
       body {
  font-family: arial, sans-serif;
}

h1 {
  color:       #878787;
  font-size:   24px;
  font-weight: 100;
  margin:      0;
  line-height: 28px;
}

button {
  margin-left: 5px;
  position: relative;
  top: 1px;
}

input[type="text"] {
  border-radius: 2px;
  border:        none;
  box-shadow:    0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);
  height:        44px;
  outline:       0;
  padding:       10px;
  width:         300px;
}

.btn {
  border-radius: 2px;
  color: #fff;
  height: 44px;
}

.weather-summary {
  padding-bottom: 20px;
}

.weather-summary-header {
  padding-bottom: 20px;
}

.weather-detail__text {
  color:       #878787;
  font-size:   16px;
  font-weight: 100;
  line-height: 20px;
}

.weather-container {
  box-shadow: 0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08);
  margin:     20px 0;
  max-width:  630px;
  padding:    20px 16px 24px 16px;
}

.weather__icon {
  float: left;
}

.weather__icon--today {
  float: left;
  height: 64px;
  width: 64px;
}

.weather-unit__text--today {
  color:       #333;
  float:       left;
  font-size:   16px;
  line-height: 1.5;
}

.weather-unit__text-separator {
  float:       left;
  font-size:   16px;
  line-height: 1.5;
  padding:     0 5px;
}

.weather-temp--today {
  color:        #333;
  float:        left;
  font-size:    64px;
  font-weight:  400;
  line-height:  1;
  padding-left: 10px;
}

.weather-view-buttons {
  padding: 15px 0 10px;
  display: block;
}

.weather-view__button {
  background-color: #f5f5f5;
  background:       linear-gradient(top,#f5f5f5,#f1f1f1);
  border:           1px solid rgba(0, 0, 0, 0.1);
  box-shadow:       inset 0 1px 2px rgba(0,0,0,0.1);
  color:            #222;
  float:            left;
  font-size:        11px;
  font-weight:      700;
  line-height:      27px;
  min-width:        54px;
  padding:          0 8px;
}

.weather-view__button--selected {
  background-color: linear-gradient(top,#eee,#e0e0e0);
  background:       #eee;
  border-color:     #ccc;
}

.weather-view__button--selected:hover {
  border-color:     #c6c6c6;
  box-shadow:       0 1px 1px rgba(0,0,0,0.1);
  text-decoration:  none;
  background-color: linear-gradient(top,#f8f8f8,#f1f1f1);
}

.weather-view__button--temp {
  border-radius: 2px 0 0 2px;
  border-right:  none;
}

.weather-view__button--wind {
  border-left:   none;
  border-radius: 0 2px 2px 0;
}

.day__block {
  float:   left;
  padding: 7px;
  width:   12.5%;
}

.day__block-date {
  color: #bababa;
}

.day__block-image {
  display:    block;
  margin:     0 auto;
  max-height: 48px;
  max-width:  48px;
}

.day__block-date {
  text-align: center;
}
.day__block-temps {
  text-align: center;
}

.day__block-temp {
  font-size:   13px;
  line-height: 15px;
  color: #878787;
}

.day__block--selected {
  background-color: #fcfcfc;
  border-radius:    1px;
  border:           1px solid #e9e9e9;
}
</style>
<body>
 <div class="container">
  <br>
  <h1>Laguna Beach</h1>
  
  
   <center><strong> 
    <div class="container">
    <div class="col" id="current-date"></div>
		<span class="weekday" id="weekday"> </span>	
    <span class="time" id="time"> </span>	
     
  <div class="row align-items-start">
    <div class="col">
  </strong> 
  <br>
      <img src="https://ssl.gstatic.com/onebox/weather/64/cloudy.png"
                  alt="sky"
                  id="icon"
                  class="now"
                />
        <br>
        <h2>75°</h2>
         <span class="unit" id="temperature"></span>
                  <span class="grados-link">
                    <a href="#" id="fahrenheit-link" class="active">°F</a>
                    <span style="font-weight: 400">|</span>
                    <a href="#" id="celcius-link">°C</a>
                  </span>
        <h6>High: 77°F | Low: 52°F</h6>
        </div>
        <br>
        <br>
      <ul><em>
        <li class="sky" id="sky">Partly cloudy</li>
        <li class="humid" id="humid">Humidity: </li>
        <li class="wind" id="wind">Wind: mph</li>
        </em>
    </div></div></ul>
   </center>
<br>
<div class="container">
  <div class="row align-items-start">
    <div class="col">
        <p><strong>Monday</strong> 
            <br>
        <span class="emoji">☀️</span>
      <h5>79°F</h5>
      <h6>55°F</h6>

    </div>
    <div class="col">
        <p><strong>Tuesday</strong> 
            <br>
      <span class="emoji">☀️</span>
      <h5>79°F</h5>
      <h6>55°F</h6>
    </div>
    <div class="col">
        <p><strong>Wednesday</strong> 
            <br>
     <span class="emoji">☀️</span>
      <h5>79°F</h5>
      <h6>55°F</h6>
    </div>
     <div class="col">
         <p><strong>Thursday</strong> 
            <br>
     <span class="emoji">☀️</span>
      <h5>79°F</h5>
      <h6>55°F</h6>
@@ -184,6 +188,7 @@ <h6>55°F</h6>
    </div>
    <div class="col">
        <p><strong>Saturday</strong> 
            <br>
      <span class="emoji">☀️</span>
      <h5>79°F</h5>
      <h6>55°F</h6>
    </div>
     </div>     
        </div>  
<br>
<button type="submit" class="current-location">Current Location</button>
<p><form>
  <input type="text" 
  placeholder="Search New City" 
  autocomplete="off"
  autofocus="on"
  id="search-text-input" />
  
<button type="submit" class="search">Search</button>
   </form>
<script>
let now = new Date();
let time = document.querySelector("time");
let date = now.getDate();
let year = now.getFullYear();
let hours = now.getHours();
let todayMinute = now.getMinutes();
if (todayMinute < 10) {
  todayMinute = `0${todayMinute}`;
}
window.onload = function() {
  clock();  
    function clock() {
    var now = new Date();
    var TwentyFourHour = now.getHours();
    var hour = now.getHours();
    var min = now.getMinutes();
    var sec = now.getSeconds();
    var mid = 'pm';
    if (min < 10) {
      min = "0" + min;
    }
    if (hour > 12) {
      hour = hour - 12;
    }    
    if(hour==0){ 
      hour=12;
    }
    if(TwentyFourHour < 12) {
       mid = 'am';
    }     
  document.getElementById('time').innerHTML =     hour+':'+min+':'+sec +' '+mid ;
    setTimeout(clock, 1000);
    }
}
let days = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday"
];
let day = days[now.getDay()];
let months = [
  "January",
  "Feburary",
  "March",
  "April",
  "May",
  "June",
  "July",
  "August",
  "September",
  "October",
  "November",
  "December"
];
let month = months[now.getMonth()];
let weekday = document.querySelector("#weekday");
weekday.innerHTML = `${day} - ${month} ${date}, ${year} - `;
function search(event) {
  event.preventDefault();
  let searchInput = document.querySelector("#search-text-input");
  let h1 = document.querySelector("h1");
  if (searchInput.value !== "") {
    h1.innerHTML = `${searchInput.value}`;
    let apiKey = "bf54175800a55e59e6c4d6461deeef12";
    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${searchInput.value}&appid=${apiKey}&units=imperial`;
    axios.get(apiUrl).then(showTemperature);
  } else {
    h1.innerHTML = `Please enter a city!`;
  }
}
let form = document.querySelector("form");
form.addEventListener("submit", search);
function showTemperature(response) {
  let h1 = document.querySelector("h1");
  h1.innerHTML = response.data.name;
  
  let sky = response.data.weather[0].main;
  let skyElement = document.querySelector("#sky");
  skyElement.innerHTML = `Sky: ${sky}`;
  let temperature = Math.round(response.data.main.temp);
  let humid = Math.round(response.data.main.humidity);
  let humidElement = document.querySelector("#humid");
  humidElement.innerHTML = `Humidity: ${humid}%`;
  let wind = Math.round(response.data.wind.speed);
  let windElement = document.querySelector("#wind");
  windElement.innerHTML = `Wind: ${wind} mph`;
  let iconElement = document.querySelector("#icon");
  iconElement.setAttribute("src",`http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`);
  iconElement.setAttribute("alt", response.data.weather[0].description);
  let h2 = document.querySelector("h2");
  h2.innerHTML = `${temperature}°`;
  celsiusLink.classList.add("active");
  fahrenheitLink.classList.remove("active");
  celsiusTemperature = response.data.main.temp;
}
function displayFahrenheitTemp(event) {
  event.preventDefault();
  let tempElement = document.querySelector("#temperature");
  // remove the active class to Celsius and add to fahrenheit
  celsiusLink.classList.remove("active");
  fahrenheitLink.classList.add("active");
  fahrenheitTemp = (celsiusTemperature * 9) / 5 + 32;
  tempElement.innerHTML = Math.round(fahrenheitTemp);
}
function displayCelsiusTemp(event) {
  event.preventDefault();
  let tempElement = document.querySelector("#temperature");
  celsiusLink.classList.add("active");
  fahrenheitLink.classList.remove("active");
  tempElement.innerHTML = Math.round(celsiusTemperature);
}
let celsiusTemperature = null;
let fahrenheitLink = document.querySelector("#fahrenheit-link");
fahrenheitLink.addEventListener("click", displayFahrenheitTemp);
let celsiusLink = document.querySelector("#celsius-link");
celsiusLink.addEventListener("click", displayCelsiusTemp);
function displayPosition(position) {
  let apiKey = "bf54175800a55e59e6c4d6461deeef12";
  let latitude = position.coords.latitude;
  let longitude = position.coords.longitude;
  let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=imperial&appid=${apiKey}`;
  axios.get(apiUrl).then(showTemperature);
}
function showLocation(event) {
  event.preventDefault();
  navigator.geolocation.getCurrentPosition(displayPosition);
}
let currentLocation = document.querySelector(".current-location");
currentLocation.addEventListener("click", showLocation);
</script>   
  <br>
  
  <footer><small>
      <a href="https://github.com/shrssj/jubilant-octo-doodle" target="_blank">Open-source code by Sahar Saberi</a>
    
  </small></footer>
  
</body>
</html>
